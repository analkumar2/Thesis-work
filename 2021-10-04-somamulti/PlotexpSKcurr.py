 ## exec(open('PlotexpSKcurr.py').read())
 ## Caution: the values are in pA and not in A

import numpy as np
import matplotlib.pyplot as plt
from pprint import pprint

hold = [-55,-45,-35,-25,-15,-5,5,15,25,35]

WT_old = {'Cell 1 of 6/3/2019.2': [-0.91981989999924,
                          -2.2900792299993906,
                          -3.314337520000201,
                          -14.3172875000007,
                          2.554079250000605,
                          47.5720729700017,
                          71.3943165099995,
                          76.3790838700004,
                          84.404522609998,
                          72.559986729998],
 'Cell 1 of 9/5/2018': [0.28995185999955986,
                        -2.2074025299999,
                        0.9779093000004,
                        -4.7902663900005,
                        2.8579428300005,
                        7.011943270000302,
                        50.23139094000091,
                        52.83713648,
                        52.355712940001,
                        51.493981890000015],
 'Cell 2 of 17/5/2018': [-1.60797024,
                         1.40000651,
                         4.52746702,
                         -6.83958996,
                         -16.31878777,
                         -23.18365047,
                         -13.47559643,
                         10.03543551,
                         13.84822608,
                         19.30898654],
 'Cell 2 of 18/5/2018': [0.30366074999991977,
                         1.5029396699996198,
                         3.5922134399997496,
                         -1.5590479599999494,
                         18.28058351000046,
                         43.8293152800005,
                         53.851891420000406,
                         62.2973978100003,
                         69.98649701,
                         65.12532399999989],
 'Cell 2 of 19/2/2019': [1.1850317200007003,
                         2.11483935000037,
                         1.9662584000003394,
                         -1.3732112799995093,
                         -6.56429092999943,
                         -11.9873626500003,
                         16.731497749999598,
                         25.59820702000141,
                         50.62063039,
                         59.99224831999999],
 'Cell 2 of 6/3/2019.2': [-5.31170962000013,
                          -7.54371648999889,
                          -12.744445319999652,
                          -6.44726642999955,
                          -6.698288189999598,
                          -1.8858709799991047,
                          27.047713279999805,
                          18.7227618999991,
                          42.5838675100002,
                          53.5446101000001],
 'Cell 2 of 9/5/2018': [0.06355516999987998,
                        -1.38808679999934,
                        -2.5637542899991796,
                        0.8696753400014101,
                        -2.5332888899988895,
                        6.6167445600015995,
                        61.7804651700018,
                        85.52147314000109,
                        89.397015229999,
                        92.5151072499984],
 'Cell 3 of 12/4/18': [5.6056502799999,
                       3.2164578500001504,
                       3.2068958400001106,
                       13.6903391899998,
                       16.563320659999896,
                       48.08091994,
                       39.051326089999904,
                       45.150374390000096,
                       56.949387879999904,
                       48.3298866249999],
 'Cell 3 of 17/5/2018': [-2.21384538999979,
                         -0.8801201999994905,
                         -2.2306027500001395,
                         -1.2033965699994997,
                         9.434364990000503,
                         38.070355840000396,
                         47.410119369999904,
                         28.234169719999997,
                         39.748230050000004,
                         33.35614529],
 'Cell 3 of 5/4/2018': [1.3805576600005898,
                        -0.2918378799988304,
                        -1.2970126599992895,
                        -3.0193948000001,
                        0.7098844200001011,
                        18.058068380000208,
                        13.141649669999708,
                        19.96299895,
                        14.240310019999995,
                        31.759125690001],
 'Cell 4 of 12/4/18': [-4.835921159999911,
                       -2.8534787999997206,
                       -4.0459377799997185,
                       -2.05353644000043,
                       -2.0475797899998014,
                       11.406511306000098,
                       19.10973205000019,
                       21.408165370000106,
                       16.92411482,
                       35.50224073000001],
 'Cell 4 of 6/3/2019.2': [169.9516849000002,
                          2.7590121999989012,
                          5.608870700000001,
                          13.801018300000198,
                          48.51713659999879,
                          107.02039090000099,
                          133.89121599999902,
                          141.585756800001,
                          138.59810940000102,
                          126.49565759999902],
 'Cell 5 of 6/3/2019.2': [0.04423778000013989,
                          0.9519508099997998,
                          -0.07940212000004987,
                          1.8524883200001598,
                          -7.237663149999898,
                          18.370453080000395,
                          78.6926514099998,
                          117.01850881999988,
                          139.3753850100006,
                          154.2650267499996]}


KO_old = {'Cell 1 of 11/4/18': [-0.8066471699999802,
                       2.11844158000023,
                       -0.7613069199997184,
                       -16.82760890200018,
                       2.1197997000002005,
                       69.31354366199992,
                       97.56165063,
                       111.1322249406,
                       123.29519930020001,
                       123.17349015000002],
 'Cell 1 of 19/4/18': [-2.2144294200030306,
                       0.6945016199986895,
                       2.3219822699986397,
                       -2.4320313600006305,
                       1.1140881199990993,
                       30.441753289999,
                       150.62291359999892,
                       184.9382119200002,
                       196.13478483000057,
                       220.193058460001],
 'Cell 1 of 2/4/18': [-1.24891405,
                      -1.03664342,
                      -1.76572593,
                      -5.48322485,
                      66.81993523,
                      119.7659346,
                      138.4104712,
                      129.0715283,
                      138.2913118,
                      152.5368699],
 'Cell 1 of 3/4/18': [-4.09851026,
                      1.68492763,
                      1.41940525,
                      -2.06342244,
                      -14.92612367,
                      -7.81955523,
                      27.00378238,
                      44.07402704,
                      80.44577797,
                      73.27403029],
 'Cell 1 of 5/6/2018': [2.538344727,
                        2.806241633,
                        5.560969262,
                        2.705267545,
                        81.27997953,
                        184.6879746,
                        206.0408508,
                        218.0913224,
                        226.5618462,
                        207.683563],
 'Cell 1 of 6/3/2019.1': [-1.1167904800002395,
                          0.4362030199998497,
                          -3.2541426100000903,
                          -7.406816890000729,
                          -9.2302752199999,
                          4.798910439999801,
                          61.146195040000904,
                          116.92103542000092,
                          147.2708169899999,
                          164.0184342400012],
 'Cell 1 of 7/3/2019.1': [13.836359899998701,
                          -3.2864321500009392,
                          1.8695196100015004,
                          9.823621699999297,
                          25.669410510000304,
                          127.91260614000069,
                          215.75798521000002,
                          261.27140261,
                          285.958576159999,
                          283.11722353],
 'Cell 2 of 19/4/18': [0.21046853000012966,
                       -0.8037875599996003,
                       0.9066362600000026,
                       -4.2183477899999,
                       -3.9009962999996013,
                       9.2348556800006,
                       27.228512480000305,
                       30.922679500000406,
                       49.574012769999904,
                       36.959170369999],
 'Cell 2 of 2/4/18': [0.0481936,
                      3.07333195,
                      2.49291304,
                      7.15480578,
                      27.88148715,
                      40.90384129,
                      51.50290842,
                      27.52159691,
                      44.38702481,
                      27.78971808],
 'Cell 2 of 3/4/18': [-1.78424843,
                      0.57732223,
                      -0.41883889,
                      98.14699509,
                      244.6379829,
                      296.5077142,
                      314.2846572,
                      326.2332882,
                      333.6006968,
                      336.5638397],
 'Cell 3 of 11/4/18 ': [3.93458508000046,
                        -2.77168060000072,
                        -1.5238321100006402,
                        2.1571492899987397,
                        -4.73710201000033,
                        11.3246550699999,
                        35.0899953700004,
                        73.8431180799998,
                        99.05730908999969,
                        105.8948009800005],
 'Cell 3 of 7/3/2019.1': [-63.34487041999935,
                          -0.13179136999916974,
                          -7.227149310000341,
                          -6.5873615100005,
                          2.0210724500004,
                          37.788107400000506,
                          92.01417204000019,
                          118.2183111399992,
                          120.9662844899999,
                          108.28745397],
 'Cell 4 of 6/3/2019.1': [26.488104159999803,
                          2.769863860000271,
                          7.19925681999988,
                          -6.6674021299999,
                          13.205197530000603,
                          55.11321004,
                          42.55241751,
                          70.22842693999999,
                          64.60151790999998,
                          53.73501004000002]}

# for WTplot in list(WT_old.values()):
# 	wp, = plt.plot(hold, WTplot, color='r', label=None)

# # # for KOplot in list(KO_old.values()):
# # # 	kp, = plt.plot(hold, KOplot, color='b')

# # WTmedian, = plt.plot(hold,np.median(list(WT_old.values()),0))
# plt.plot(hold,np.mean(list(WT_old.values()),0) + 3*np.std(list(WT_old.values()),0),label='mean+3*std', linewidth=5.0, color='blue')
# plt.plot(hold,np.mean(list(WT_old.values()),0) - 3*np.std(list(WT_old.values()),0), label='mena-3*std',linewidth=5.0, color='blue')
# plt.plot(hold,np.percentile(list(WT_old.values()),75,0), label='75th percentile', linewidth=5.0, color='black')
# plt.plot(hold,np.percentile(list(WT_old.values()),25,0), label='25th percentile', linewidth=5.0, color='black')

# # # plt.legend([wp,kp,WTmedian], ['WT old', 'KO_old', 'WTmedian'])
# plt.legend()
# plt.xlabel('Holding potential (mV)')
# plt.ylabel('apamin sensitive current (pA)')
# plt.show()

# sst.percentileofscore(np.array(list(WT_old.values()))[:,-1], 50)


################################################################################################################################################################################################################################################################################################
##Correlation###